<!DOCTYPE html>
<html>
  <header>
    <title>Coin Flip</title>
  </header>
  <body>
    <button onclick="playGame('heads')">heads</button>
    <button onclick="playGame('tails')">tails</button>
    <script>
      let score = JSON.parse(localStorage.getItem("headsAndTails")) || {
        wins: 0,
        losses: 0,
      };

      function tailsOrHeads() {
        const rand = Math.random();
        if (rand < 0.5) {
          return "heads";
        } else {
          return "tails";
        }
      }

      function playGame(guess) {
        const computerMove = tailsOrHeads();
        let result = "";
        //decide if the player win or lose
        guess === computerMove ? (result = "win") : (result = "lose");
        //update score here
        if (result === "win") {
          console.log(
            `Computer picks ${computerMove}, you pick ${guess}! You win! `
          );
          score.wins += 1;
        } else {
          console.log(
            `Computer picks ${computerMove}, you pick ${guess}! You lose! `
          );
          score.losses += 1;
        }

        localStorage.setItem("headsAndTails", JSON.stringify(score));
        displayScore();
      }

      function displayScore() {
        console.log(score);
      }
    </script>
  </body>
</html>
